<html>

<head>
  <title>Authentication</title>
</head>

<body>
  <form>
    <div>
      <input id="email" type="text" placeholder="Email...">
    </div>
    <div>
      <input id="password" type="password" placeholder="Password...">
    </div>
    <div>
      <button id="sign-in">Sign In</button>
      <button id="sign-out">Sign Out</button>
    </div>
  </form>

  <!--Include firebase.js  -->
  <script src="https://www.gstatic.com/firebasejs/live/3.0/firebase.js"></script>
  
  <!--Configure firebase-->
  <script>
    var config = {
    apiKey: "AIzaSyAvmIzczS06xnlTl7v2HF7FJEVuxcAOLd4",
    authDomain: "tosser.firebaseapp.com",
    databaseURL: "https://tosser.firebaseio.com",
    projectId: "tosser",
    storageBucket: "tosser.appspot.com",
    messagingSenderId: "930622331514"
  };
  firebase.initializeApp(config);
  </script>

  <!--Handle auth events-->
  <script>
    firebase.auth().onAuthStateChanged(function(user) {
      window.user = user;
      
    });
  </script>
  
  <!--Handle page events-->
  <script>    
    document.querySelector('#sign-in').addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      var email = document.querySelector('#email').value;
      console.log(email)
      var password = document.querySelector('#password').value
      console.log(password)
      var credential = firebase.auth.EmailAuthProvider.credential(email, password);
      console.log(credential)
      var auth = firebase.auth();
      var currentUser = auth.currentUser;
      

// Sign in existing user
firebase.auth().signInWithEmailAndPassword(email, password)
 .catch(function(err) {
   // Handle errors
 });

    });
    
    document.querySelector('#sign-out').addEventListener('click', function(e) {
      e.preventDefault();
      e.stopPropagation();
      firebase.auth().signOut();
    });
  </script>

</body>

</html>
